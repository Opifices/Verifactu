# ===================================================================
# CONFIGURACIÓN BASE DE DATOS (PostgreSQL)
# ===================================================================
spring.datasource.url=jdbc:postgresql://localhost:5432/verifactu_db
spring.datasource.username=postgres
spring.datasource.password=secret
spring.datasource.driver-class-name=org.postgresql.Driver

# JPA / Hibernate
# Validar el esquema sin borrar datos en producción.
spring.jpa.hibernate.ddl-auto=validate
# Mostrar SQL para debug en desarrollo (desactivar en prod)
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# ===================================================================
# CONFIGURACIÓN APP VERIFACTU
# ===================================================================
# --- JAVA 21 PERFORMANCE ---
spring.threads.virtual.enabled=true

# --- OBSERVABILITY (ACTUATOR) ---
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=always

# --- VERIFACTU CONFIG ---
# Identificador del software (Debe coincidir con la declaración responsable)
verifactu.software-id=VERIFACTU-JAVA-TEST
verifactu.aeat.endpoint=https://prewww1.aeat.es/wlpl/TIKE-CONT/ws/SistemaFacturacion/VerifactuSoapV1
# Keystore - Ruta absoluta o classpath
verifactu.cert.path=${VERIFACTU_CERT_PATH:/etc/verifactu/cert.p12}
# Contraseña - INYECTADA POR VARIABLE DE ENTORNO EN PROD (No guardar secretos aquí)
verifactu.cert.password=${VERIFACTU_CERT_PASSWORD}

# SSL/TLS Cliente AEAT
aeat.security.keystore-path=${AEAT_KEYSTORE_PATH:classpath:certs/certificado_pruebas.p12}
aeat.security.keystore-password=${AEAT_KEYSTORE_PASSWORD}
